<!DOCTYPE html>
<html>

<head>
  <title>Key Focus</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<style type="text/css">
  .enter-key:focus{
    border: 1px solid red !important;
  }
</style>
<body>
  <div class="container">
    <div class="row" id="treeStructure">
      <div class="col-sm-12">
        <table class="table table-bordered" id="focusElement" width="100%">
          <thead>
            <tr>
              <th>FName</th>
              <th>LName</th>
              <th>Mail</th>
              <th>Phone</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="number" class="form-control enter-key">
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="number" class="form-control enter-key">
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <input type="number" class="form-control enter-key">
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-6">
                    <input type="text" class="form-control enter-key">
                  </div>
                   <div class="col-sm-6">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                     <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
            </tr>
            <tr class="hide">
              <td>
                <div class="row">
                  <div class="col-sm-6">
                    <input type="text" class="form-control enter-key">
                  </div>
                   <div class="col-sm-6">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                     <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="row">
                  <div class="col-sm-6">
                    <input type="text" class="form-control enter-key">
                  </div>
                   <div class="col-sm-6">
                    <input type="text" class="form-control enter-key">
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                     <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
               <td>
                <div class="row">
                  <div class="col-sm-12">
                    <select class="form-control enter-key">
                      <option>Select</option>
                    </select>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="js/jquery-1.12.4.js"></script>
  <script type="text/javascript">
    var keypressEvent = (function(){
      var Key = {
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40
      }
      function moveToNextField(that, position){
        var curntEle = $(that).closest("td").find("input.enter-key"), tdindex = curntEle.get().indexOf(that);
        if(position == "left"){
          curntEle.first().focus()
        }else if(position == "right"){
          curntEle.last().focus();
        }
        return ( curntEle.length -1 ) == tdindex;
      }

      function init(){
        $(".enter-key").on("keydown", function(e){
          if(e.keyCode == Key["LEFT"]){
            if(moveToNextField(this, "left")){
              $(this).closest("td").prev().find(".enter-key").focus();
            }
          }else if(e.keyCode == Key["RIGHT"]){
            if(moveToNextField(this, "right")){
              $(this).closest("td").next().find(".enter-key").focus();
            }
          }else if(e.keyCode == Key["UP"]){
            var tdIndex = $(this).closest("td").index(), tdCol = $(this).closest("tr").find("td:nth-child("+(tdIndex+1)+") .enter-key").get(), inputIndex = 0;
            if(tdCol.length > 1){
              inputIndex = tdCol.indexOf(this);
            }
            $($(this).closest("tr").prevAll("tr:not('.hide')").first().find("td:nth-child("+(tdIndex+1)+") .enter-key")[inputIndex]).focus();
          }else if(e.keyCode == Key["DOWN"]){
            var tdIndex = $(this).closest("td").index(), tdCol = $(this).closest("tr").find("td:nth-child("+(tdIndex+1)+") .enter-key").get(), inputIndex = 0;
            if(tdCol.length > 1){
              inputIndex = tdCol.indexOf(this);
            }
            $($(this).closest("tr").nextAll("tr:not('.hide')").first().find("td:nth-child("+(tdIndex+1)+") .enter-key")[inputIndex]).focus();
          }
        })
      }
      return{
        initEvent : init
      }
    })();
    keypressEvent.initEvent()
  </script>
</body>

</html>